<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Catálogo de Especies</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
  <link th:href="@{/css/admin.css}" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body class="admin-dark">
<div class="d-flex">
  <div th:replace="fragments/admin-sidebar :: adminSidebar"></div>
  <main class="admin-content w-100 p-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="fw-bold">Catálogo de Especies</h2>
      <a class="btn btn-primary" th:href="@{/admin/catalogos/especies/nuevo}"><i class="bi bi-plus-circle"></i> Nueva especie</a>
    </div>
    <div class="table-responsive">
      <table class="table table-dark table-striped align-middle">
        <thead><tr><th>ID</th><th>Nombre</th><th>Estado</th><th>Acciones</th></tr></thead>
        <tbody>
          <tr th:each="e : ${especies}">
            <td th:text="${e.id}">1</td>
            <td th:text="${e.nombre}">Canino</td>
            <td><span class="badge" th:classappend="${e.estado} ? 'text-bg-success' : 'text-bg-secondary'" th:text="${e.estado} ? 'Activo' : 'Inactivo'">Activo</span></td>
            <td>
              <a th:href="@{/admin/catalogos/especies/editar/{id}(id=${e.id})}" class="btn btn-sm btn-outline-info">Editar</a>
              <form th:action="@{/admin/catalogos/especies/eliminar/{id}(id=${e.id})}" method="post" class="d-inline">
                <button class="btn btn-sm btn-outline-danger" type="submit">Eliminar</button>
              </form>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </main>
</div>
<script th:if="${swalSuccess != null}" th:inline="javascript">Swal.fire({icon:'success',title:'Éxito',text:[[${swalSuccess}]]});</script>
<script th:if="${swalError != null}" th:inline="javascript">Swal.fire({icon:'error',title:'Error',text:[[${swalError}]]});</script>
</body>
</html>
