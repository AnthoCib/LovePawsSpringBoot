<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Catálogo de Categorías</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
  <link th:href="@{/css/admin.css}" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body class="admin-dark">
<div class="d-flex">
  <div th:replace="fragments/admin-sidebar :: adminSidebar"></div>
  <main class="admin-content w-100 p-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="fw-bold">Catálogo de Categorías</h2>
      <a class="btn btn-primary" th:href="@{/admin/catalogos/categorias/nuevo}">Nueva categoría</a>
    </div>
    <table class="table table-dark table-striped">
      <thead><tr><th>ID</th><th>Nombre</th><th>Descripción</th><th>Estado</th><th>Acciones</th></tr></thead>
      <tbody>
        <tr th:each="c : ${categorias}">
          <td th:text="${c.id}">1</td>
          <td th:text="${c.nombre}">Adopción</td>
          <td th:text="${c.descripcion}">...</td>
          <td th:text="${c.estado} ? 'Activo' : 'Inactivo'">Activo</td>
          <td>
            <a class="btn btn-sm btn-outline-info" th:href="@{/admin/catalogos/categorias/editar/{id}(id=${c.id})}">Editar</a>
            <form class="d-inline" method="post" th:action="@{/admin/catalogos/categorias/eliminar/{id}(id=${c.id})}">
              <button class="btn btn-sm btn-outline-danger" type="submit">Eliminar</button>
            </form>
          </td>
        </tr>
      </tbody>
    </table>
  </main>
</div>
<script th:if="${swalSuccess != null}" th:inline="javascript">Swal.fire({icon:'success',title:'Éxito',text:[[${swalSuccess}]]});</script>
<script th:if="${swalError != null}" th:inline="javascript">Swal.fire({icon:'error',title:'Error',text:[[${swalError}]]});</script>
</body>
</html>
